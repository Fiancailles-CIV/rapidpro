{% extends "smartmin/base.html" %}
{% load smartmin i18n %}

{% block title-text %}
    {% trans "Email verification" %}
{% endblock title-text %}
{% block content %}
    <div class="flex w-full mb-4">
        <div class="flex-grow ml-1">
            {% if verify_alert == "invalid" %}
                <temba-alert level="error" class="mt-4">
                    {% blocktrans trimmed %}
                        Invalid email verification link
                    {% endblocktrans %}
                </temba-alert>
            {% elif verify_alert == "mismatch" %}
                <temba-alert level="error" class="mt-4">
                    {% blocktrans trimmed %}
                        Mismatching email verification link
                    {% endblocktrans %}
                </temba-alert>
            {% elif verify_alert == "success" %}
                <temba-alert level="success" class="mt-4">
                    {% blocktrans trimmed with email=user_by_secret.username %}
                        Email <b>{{ email }}</b> verified successfully
                    {% endblocktrans %}
                </temba-alert>
            {% elif verify_alert == "verified" %}
                <temba-alert level="success" class="mt-4">
                    {% blocktrans trimmed with email=user_by_secret.username %}
                        Email <b>{{ email }}</b> already verified
                    {% endblocktrans %}
                </temba-alert>
            {% endif %}
        </div>
    </div>
{% endblock content %}
{% block extra-script %}
    <script type="text/javascript">
      setTimeout(function() {
        window.location.href = "{{redirect_url}}";
      }, 3000);
    </script>
{% endblock extra-script %}
